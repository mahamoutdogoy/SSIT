{"ast":null,"code":"import _objectSpread from \"/Users/dogoy/ANAVATECH/project/aa/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _taggedTemplateLiteral from \"/Users/dogoy/ANAVATECH/project/aa/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _templateObject,\n  _jsxFileName = \"/Users/dogoy/ANAVATECH/project/aa/frontend/src/features/dashboard/DurationChart.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Heading from \"../../ui/Heading\";\nimport { Cell, Legend, Pie, PieChart, ResponsiveContainer, Tooltip } from \"recharts\";\n// import { useDarkMode } from \"../../context/DarkModeContext\";\n\nvar ChartBox = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  /* Box */\\n  background-color: var(--color-grey-0);\\n  border: 1px solid var(--color-grey-100);\\n  border-radius: var(--border-radius-md);\\n\\n  padding: 2.4rem 3.2rem;\\n  grid-column: 3 / span 2;\\n\\n  & > *:first-child {\\n    margin-bottom: 1.6rem;\\n  }\\n\\n  & .recharts-pie-label-text {\\n    font-weight: 600;\\n  }\\n\"])));\nvar startDataLight = [{\n  duration: \"1 night\",\n  value: 0,\n  color: \"#ef4444\"\n}, {\n  duration: \"2 nights\",\n  value: 0,\n  color: \"#f97316\"\n}, {\n  duration: \"3 nights\",\n  value: 0,\n  color: \"#eab308\"\n}, {\n  duration: \"4-5 nights\",\n  value: 0,\n  color: \"#84cc16\"\n}, {\n  duration: \"6-7 nights\",\n  value: 0,\n  color: \"#22c55e\"\n}, {\n  duration: \"8-14 nights\",\n  value: 0,\n  color: \"#14b8a6\"\n}, {\n  duration: \"15-21 nights\",\n  value: 0,\n  color: \"#3b82f6\"\n}, {\n  duration: \"21+ nights\",\n  value: 0,\n  color: \"#a855f7\"\n}];\nvar startDataDark = [{\n  duration: \"1 night\",\n  value: 0,\n  color: \"#b91c1c\"\n}, {\n  duration: \"2 nights\",\n  value: 0,\n  color: \"#c2410c\"\n}, {\n  duration: \"3 nights\",\n  value: 0,\n  color: \"#a16207\"\n}, {\n  duration: \"4-5 nights\",\n  value: 0,\n  color: \"#4d7c0f\"\n}, {\n  duration: \"6-7 nights\",\n  value: 0,\n  color: \"#15803d\"\n}, {\n  duration: \"8-14 nights\",\n  value: 0,\n  color: \"#0f766e\"\n}, {\n  duration: \"15-21 nights\",\n  value: 0,\n  color: \"#1d4ed8\"\n}, {\n  duration: \"21+ nights\",\n  value: 0,\n  color: \"#7e22ce\"\n}];\nfunction prepareData(startData, stays) {\n  // A bit ugly code, but sometimes this is what it takes when working with real data ðŸ˜…\n\n  function incArrayValue(arr, field) {\n    return arr.map(function (obj) {\n      return obj.duration === field ? _objectSpread({}, obj, {\n        value: obj.value + 1\n      }) : obj;\n    });\n  }\n  var data = stays.reduce(function (arr, cur) {\n    var num = cur.numNights;\n    if (num === 1) return incArrayValue(arr, \"1 night\");\n    if (num === 2) return incArrayValue(arr, \"2 nights\");\n    if (num === 3) return incArrayValue(arr, \"3 nights\");\n    if ([4, 5].includes(num)) return incArrayValue(arr, \"4-5 nights\");\n    if ([6, 7].includes(num)) return incArrayValue(arr, \"6-7 nights\");\n    if (num >= 8 && num <= 14) return incArrayValue(arr, \"8-14 nights\");\n    if (num >= 15 && num <= 21) return incArrayValue(arr, \"15-21 nights\");\n    if (num >= 21) return incArrayValue(arr, \"21+ nights\");\n    return arr;\n  }, startData).filter(function (obj) {\n    return obj.value > 0;\n  });\n  return data;\n}\nfunction DurationChart(_ref) {\n  var _this = this;\n  var confirmedStays = _ref.confirmedStays;\n  var _useDarkMode = useDarkMode(),\n    isDarkMode = _useDarkMode.isDarkMode;\n  var startData = isDarkMode ? startDataDark : startDataLight;\n  var data = prepareData(startData, confirmedStays);\n  return /*#__PURE__*/React.createElement(ChartBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Heading, {\n    as: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }\n  }, \"Stay duration summary\"), /*#__PURE__*/React.createElement(ResponsiveContainer, {\n    width: \"100%\",\n    height: 240,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(PieChart, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Pie, {\n    data: data,\n    nameKey: \"duration\",\n    dataKey: \"value\",\n    innerRadius: 85,\n    outerRadius: 110,\n    cx: \"40%\",\n    cy: \"50%\",\n    paddingAngle: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  }, data.map(function (entry) {\n    return /*#__PURE__*/React.createElement(Cell, {\n      fill: entry.color,\n      stroke: entry.color,\n      key: entry.duration,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 15\n      }\n    });\n  })), /*#__PURE__*/React.createElement(Tooltip, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Legend, {\n    verticalAlign: \"middle\",\n    align: \"right\",\n    width: \"30%\",\n    layout: \"vertical\",\n    iconSize: 15,\n    iconType: \"circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }))));\n}\nexport default DurationChart;","map":{"version":3,"names":["React","useState","useEffect","styled","Heading","Cell","Legend","Pie","PieChart","ResponsiveContainer","Tooltip","ChartBox","div","_templateObject","_taggedTemplateLiteral","startDataLight","duration","value","color","startDataDark","prepareData","startData","stays","incArrayValue","arr","field","map","obj","_objectSpread","data","reduce","cur","num","numNights","includes","filter","DurationChart","_ref","_this","confirmedStays","_useDarkMode","useDarkMode","isDarkMode","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","as","width","height","nameKey","dataKey","innerRadius","outerRadius","cx","cy","paddingAngle","entry","fill","stroke","key","verticalAlign","align","layout","iconSize","iconType"],"sources":["/Users/dogoy/ANAVATECH/project/aa/frontend/src/features/dashboard/DurationChart.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Heading from \"../../ui/Heading\";\nimport {\n  Cell,\n  Legend,\n  Pie,\n  PieChart,\n  ResponsiveContainer,\n  Tooltip,\n} from \"recharts\";\n// import { useDarkMode } from \"../../context/DarkModeContext\";\n\nconst ChartBox = styled.div`\n  /* Box */\n  background-color: var(--color-grey-0);\n  border: 1px solid var(--color-grey-100);\n  border-radius: var(--border-radius-md);\n\n  padding: 2.4rem 3.2rem;\n  grid-column: 3 / span 2;\n\n  & > *:first-child {\n    margin-bottom: 1.6rem;\n  }\n\n  & .recharts-pie-label-text {\n    font-weight: 600;\n  }\n`;\n\nconst startDataLight = [\n  {\n    duration: \"1 night\",\n    value: 0,\n    color: \"#ef4444\",\n  },\n  {\n    duration: \"2 nights\",\n    value: 0,\n    color: \"#f97316\",\n  },\n  {\n    duration: \"3 nights\",\n    value: 0,\n    color: \"#eab308\",\n  },\n  {\n    duration: \"4-5 nights\",\n    value: 0,\n    color: \"#84cc16\",\n  },\n  {\n    duration: \"6-7 nights\",\n    value: 0,\n    color: \"#22c55e\",\n  },\n  {\n    duration: \"8-14 nights\",\n    value: 0,\n    color: \"#14b8a6\",\n  },\n  {\n    duration: \"15-21 nights\",\n    value: 0,\n    color: \"#3b82f6\",\n  },\n  {\n    duration: \"21+ nights\",\n    value: 0,\n    color: \"#a855f7\",\n  },\n];\n\nconst startDataDark = [\n  {\n    duration: \"1 night\",\n    value: 0,\n    color: \"#b91c1c\",\n  },\n  {\n    duration: \"2 nights\",\n    value: 0,\n    color: \"#c2410c\",\n  },\n  {\n    duration: \"3 nights\",\n    value: 0,\n    color: \"#a16207\",\n  },\n  {\n    duration: \"4-5 nights\",\n    value: 0,\n    color: \"#4d7c0f\",\n  },\n  {\n    duration: \"6-7 nights\",\n    value: 0,\n    color: \"#15803d\",\n  },\n  {\n    duration: \"8-14 nights\",\n    value: 0,\n    color: \"#0f766e\",\n  },\n  {\n    duration: \"15-21 nights\",\n    value: 0,\n    color: \"#1d4ed8\",\n  },\n  {\n    duration: \"21+ nights\",\n    value: 0,\n    color: \"#7e22ce\",\n  },\n];\n\nfunction prepareData(startData, stays) {\n  // A bit ugly code, but sometimes this is what it takes when working with real data ðŸ˜…\n\n  function incArrayValue(arr, field) {\n    return arr.map((obj) =>\n      obj.duration === field ? { ...obj, value: obj.value + 1 } : obj\n    );\n  }\n\n  const data = stays\n    .reduce((arr, cur) => {\n      const num = cur.numNights;\n      if (num === 1) return incArrayValue(arr, \"1 night\");\n      if (num === 2) return incArrayValue(arr, \"2 nights\");\n      if (num === 3) return incArrayValue(arr, \"3 nights\");\n      if ([4, 5].includes(num)) return incArrayValue(arr, \"4-5 nights\");\n      if ([6, 7].includes(num)) return incArrayValue(arr, \"6-7 nights\");\n      if (num >= 8 && num <= 14) return incArrayValue(arr, \"8-14 nights\");\n      if (num >= 15 && num <= 21) return incArrayValue(arr, \"15-21 nights\");\n      if (num >= 21) return incArrayValue(arr, \"21+ nights\");\n      return arr;\n    }, startData)\n    .filter((obj) => obj.value > 0);\n\n  return data;\n}\n\nfunction DurationChart({ confirmedStays }) {\n  const { isDarkMode } = useDarkMode();\n  const startData = isDarkMode ? startDataDark : startDataLight;\n  const data = prepareData(startData, confirmedStays);\n\n  return (\n    <ChartBox>\n      <Heading as=\"h2\">Stay duration summary</Heading>\n      <ResponsiveContainer width=\"100%\" height={240}>\n        <PieChart>\n          <Pie\n            data={data}\n            nameKey=\"duration\"\n            dataKey=\"value\"\n            innerRadius={85}\n            outerRadius={110}\n            cx=\"40%\"\n            cy=\"50%\"\n            paddingAngle={3}\n          >\n            {data.map((entry) => (\n              <Cell\n                fill={entry.color}\n                stroke={entry.color}\n                key={entry.duration}\n              />\n            ))}\n          </Pie>\n          <Tooltip />\n          <Legend\n            verticalAlign=\"middle\"\n            align=\"right\"\n            width=\"30%\"\n            layout=\"vertical\"\n            iconSize={15}\n            iconType=\"circle\"\n          />\n        </PieChart>\n      </ResponsiveContainer>\n    </ChartBox>\n  );\n}\n\nexport default DurationChart;"],"mappings":"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"},"metadata":{},"sourceType":"module"}