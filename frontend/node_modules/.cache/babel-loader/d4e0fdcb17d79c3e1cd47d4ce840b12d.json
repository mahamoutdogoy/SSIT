{"ast":null,"code":"import _objectSpread from \"/Users/dogoy/ANAVATECH/project/aa/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _taggedTemplateLiteral from \"/Users/dogoy/ANAVATECH/project/aa/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _templateObject,\n  _jsxFileName = \"/Users/dogoy/ANAVATECH/project/aa/frontend/src/features/dashboard/DurationChart.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Heading from \"../../ui/Heading\";\nimport { Cell, Legend, Pie, PieChart, ResponsiveContainer, Tooltip } from \"recharts\";\n// import { useDarkMode } from \"../../context/DarkModeContext\";\n\nvar ChartBox = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  /* Box */\\n  background-color: var(--color-grey-0);\\n  border: 1px solid var(--color-grey-100);\\n  border-radius: var(--border-radius-md);\\n\\n  padding: 2.4rem 3.2rem;\\n  grid-column: 3 / span 2;\\n\\n  & > *:first-child {\\n    margin-bottom: 1.6rem;\\n  }\\n\\n  & .recharts-pie-label-text {\\n    font-weight: 600;\\n  }\\n\"])));\n\n// const startDataLight = [\n//   {\n//     duration: \"1 night\",\n//     value: 0,\n//     color: \"#ef4444\",\n//   },\n//   {\n//     duration: \"2 nights\",\n//     value: 0,\n//     color: \"#f97316\",\n//   },\n//   {\n//     duration: \"3 nights\",\n//     value: 0,\n//     color: \"#eab308\",\n//   },\n//   {\n//     duration: \"4-5 nights\",\n//     value: 0,\n//     color: \"#84cc16\",\n//   },\n//   {\n//     duration: \"6-7 nights\",\n//     value: 0,\n//     color: \"#22c55e\",\n//   },\n//   {\n//     duration: \"8-14 nights\",\n//     value: 0,\n//     color: \"#14b8a6\",\n//   },\n//   {\n//     duration: \"15-21 nights\",\n//     value: 0,\n//     color: \"#3b82f6\",\n//   },\n//   {\n//     duration: \"21+ nights\",\n//     value: 0,\n//     color: \"#a855f7\",\n//   },\n// ];\n\n// const startDataDark = [\n//   {\n//     duration: \"1 night\",\n//     value: 0,\n//     color: \"#b91c1c\",\n//   },\n//   {\n//     duration: \"2 nights\",\n//     value: 0,\n//     color: \"#c2410c\",\n//   },\n//   {\n//     duration: \"3 nights\",\n//     value: 0,\n//     color: \"#a16207\",\n//   },\n//   {\n//     duration: \"4-5 nights\",\n//     value: 0,\n//     color: \"#4d7c0f\",\n//   },\n//   {\n//     duration: \"6-7 nights\",\n//     value: 0,\n//     color: \"#15803d\",\n//   },\n//   {\n//     duration: \"8-14 nights\",\n//     value: 0,\n//     color: \"#0f766e\",\n//   },\n//   {\n//     duration: \"15-21 nights\",\n//     value: 0,\n//     color: \"#1d4ed8\",\n//   },\n//   {\n//     duration: \"21+ nights\",\n//     value: 0,\n//     color: \"#7e22ce\",\n//   },\n// ];\n\nfunction prepareData(startData, stays) {\n  // A bit ugly code, but sometimes this is what it takes when working with real data ðŸ˜…\n\n  function incArrayValue(arr, field) {\n    return arr.map(function (obj) {\n      return obj.duration === field ? _objectSpread({}, obj, {\n        value: obj.value + 1\n      }) : obj;\n    });\n  }\n  var data = stays.reduce(function (arr, cur) {\n    var num = cur.numNights;\n    if (num === 1) return incArrayValue(arr, \"1 night\");\n    if (num === 2) return incArrayValue(arr, \"2 nights\");\n    if (num === 3) return incArrayValue(arr, \"3 nights\");\n    if ([4, 5].includes(num)) return incArrayValue(arr, \"4-5 nights\");\n    if ([6, 7].includes(num)) return incArrayValue(arr, \"6-7 nights\");\n    if (num >= 8 && num <= 14) return incArrayValue(arr, \"8-14 nights\");\n    if (num >= 15 && num <= 21) return incArrayValue(arr, \"15-21 nights\");\n    if (num >= 21) return incArrayValue(arr, \"21+ nights\");\n    return arr;\n  }, startData).filter(function (obj) {\n    return obj.value > 0;\n  });\n  return data;\n}\nfunction DurationChart(_ref) {\n  var _this = this;\n  var confirmedStays = _ref.confirmedStays;\n  //   const { isDarkMode } = useDarkMode();\n  //   const startData = isDarkMode ? startDataDark : startDataLight;\n  //   const data = prepareData(startData, confirmedStays);\n\n  return /*#__PURE__*/React.createElement(ChartBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Heading, {\n    as: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }\n  }, \"Stay duration summary\"), /*#__PURE__*/React.createElement(ResponsiveContainer, {\n    width: \"100%\",\n    height: 240,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(PieChart, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Pie, {\n    data: data,\n    nameKey: \"duration\",\n    dataKey: \"value\",\n    innerRadius: 85,\n    outerRadius: 110,\n    cx: \"40%\",\n    cy: \"50%\",\n    paddingAngle: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  }, data.map(function (entry) {\n    return /*#__PURE__*/React.createElement(Cell, {\n      fill: entry.color,\n      stroke: entry.color,\n      key: entry.duration,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 15\n      }\n    });\n  })), /*#__PURE__*/React.createElement(Tooltip, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Legend, {\n    verticalAlign: \"middle\",\n    align: \"right\",\n    width: \"30%\",\n    layout: \"vertical\",\n    iconSize: 15,\n    iconType: \"circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }))));\n}\nexport default DurationChart;","map":{"version":3,"names":["React","useState","useEffect","styled","Heading","Cell","Legend","Pie","PieChart","ResponsiveContainer","Tooltip","ChartBox","div","_templateObject","_taggedTemplateLiteral","prepareData","startData","stays","incArrayValue","arr","field","map","obj","duration","_objectSpread","value","data","reduce","cur","num","numNights","includes","filter","DurationChart","_ref","_this","confirmedStays","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","as","width","height","nameKey","dataKey","innerRadius","outerRadius","cx","cy","paddingAngle","entry","fill","color","stroke","key","verticalAlign","align","layout","iconSize","iconType"],"sources":["/Users/dogoy/ANAVATECH/project/aa/frontend/src/features/dashboard/DurationChart.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Heading from \"../../ui/Heading\";\nimport {\n  Cell,\n  Legend,\n  Pie,\n  PieChart,\n  ResponsiveContainer,\n  Tooltip,\n} from \"recharts\";\n// import { useDarkMode } from \"../../context/DarkModeContext\";\n\nconst ChartBox = styled.div`\n  /* Box */\n  background-color: var(--color-grey-0);\n  border: 1px solid var(--color-grey-100);\n  border-radius: var(--border-radius-md);\n\n  padding: 2.4rem 3.2rem;\n  grid-column: 3 / span 2;\n\n  & > *:first-child {\n    margin-bottom: 1.6rem;\n  }\n\n  & .recharts-pie-label-text {\n    font-weight: 600;\n  }\n`;\n\n// const startDataLight = [\n//   {\n//     duration: \"1 night\",\n//     value: 0,\n//     color: \"#ef4444\",\n//   },\n//   {\n//     duration: \"2 nights\",\n//     value: 0,\n//     color: \"#f97316\",\n//   },\n//   {\n//     duration: \"3 nights\",\n//     value: 0,\n//     color: \"#eab308\",\n//   },\n//   {\n//     duration: \"4-5 nights\",\n//     value: 0,\n//     color: \"#84cc16\",\n//   },\n//   {\n//     duration: \"6-7 nights\",\n//     value: 0,\n//     color: \"#22c55e\",\n//   },\n//   {\n//     duration: \"8-14 nights\",\n//     value: 0,\n//     color: \"#14b8a6\",\n//   },\n//   {\n//     duration: \"15-21 nights\",\n//     value: 0,\n//     color: \"#3b82f6\",\n//   },\n//   {\n//     duration: \"21+ nights\",\n//     value: 0,\n//     color: \"#a855f7\",\n//   },\n// ];\n\n// const startDataDark = [\n//   {\n//     duration: \"1 night\",\n//     value: 0,\n//     color: \"#b91c1c\",\n//   },\n//   {\n//     duration: \"2 nights\",\n//     value: 0,\n//     color: \"#c2410c\",\n//   },\n//   {\n//     duration: \"3 nights\",\n//     value: 0,\n//     color: \"#a16207\",\n//   },\n//   {\n//     duration: \"4-5 nights\",\n//     value: 0,\n//     color: \"#4d7c0f\",\n//   },\n//   {\n//     duration: \"6-7 nights\",\n//     value: 0,\n//     color: \"#15803d\",\n//   },\n//   {\n//     duration: \"8-14 nights\",\n//     value: 0,\n//     color: \"#0f766e\",\n//   },\n//   {\n//     duration: \"15-21 nights\",\n//     value: 0,\n//     color: \"#1d4ed8\",\n//   },\n//   {\n//     duration: \"21+ nights\",\n//     value: 0,\n//     color: \"#7e22ce\",\n//   },\n// ];\n\nfunction prepareData(startData, stays) {\n  // A bit ugly code, but sometimes this is what it takes when working with real data ðŸ˜…\n\n  function incArrayValue(arr, field) {\n    return arr.map((obj) =>\n      obj.duration === field ? { ...obj, value: obj.value + 1 } : obj\n    );\n  }\n\n  const data = stays\n    .reduce((arr, cur) => {\n      const num = cur.numNights;\n      if (num === 1) return incArrayValue(arr, \"1 night\");\n      if (num === 2) return incArrayValue(arr, \"2 nights\");\n      if (num === 3) return incArrayValue(arr, \"3 nights\");\n      if ([4, 5].includes(num)) return incArrayValue(arr, \"4-5 nights\");\n      if ([6, 7].includes(num)) return incArrayValue(arr, \"6-7 nights\");\n      if (num >= 8 && num <= 14) return incArrayValue(arr, \"8-14 nights\");\n      if (num >= 15 && num <= 21) return incArrayValue(arr, \"15-21 nights\");\n      if (num >= 21) return incArrayValue(arr, \"21+ nights\");\n      return arr;\n    }, startData)\n    .filter((obj) => obj.value > 0);\n\n  return data;\n}\n\nfunction DurationChart({ confirmedStays }) {\n//   const { isDarkMode } = useDarkMode();\n//   const startData = isDarkMode ? startDataDark : startDataLight;\n//   const data = prepareData(startData, confirmedStays);\n\n  return (\n    <ChartBox>\n      <Heading as=\"h2\">Stay duration summary</Heading>\n      <ResponsiveContainer width=\"100%\" height={240}>\n        <PieChart>\n          <Pie\n            data={data}\n            nameKey=\"duration\"\n            dataKey=\"value\"\n            innerRadius={85}\n            outerRadius={110}\n            cx=\"40%\"\n            cy=\"50%\"\n            paddingAngle={3}\n          >\n            {data.map((entry) => (\n              <Cell\n                fill={entry.color}\n                stroke={entry.color}\n                key={entry.duration}\n              />\n            ))}\n          </Pie>\n          <Tooltip />\n          <Legend\n            verticalAlign=\"middle\"\n            align=\"right\"\n            width=\"30%\"\n            layout=\"vertical\"\n            iconSize={15}\n            iconType=\"circle\"\n          />\n        </PieChart>\n      </ResponsiveContainer>\n    </ChartBox>\n  );\n}\n\nexport default DurationChart;"],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,MAAM,MAAM,mBAAmB;AACtC,OAAOC,OAAO,MAAM,kBAAkB;AACtC,SACEC,IAAI,EACJC,MAAM,EACNC,GAAG,EACHC,QAAQ,EACRC,mBAAmB,EACnBC,OAAO,QACF,UAAU;AACjB;;AAEA,IAAMC,QAAQ,GAAGR,MAAM,CAACS,GAAG,CAAAC,eAAA,KAAAA,eAAA,GAAAC,sBAAA,yUAgB1B;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,WAAWA,CAACC,SAAS,EAAEC,KAAK,EAAE;EACrC;;EAEA,SAASC,aAAaA,CAACC,GAAG,EAAEC,KAAK,EAAE;IACjC,OAAOD,GAAG,CAACE,GAAG,CAAC,UAACC,GAAG;MAAA,OACjBA,GAAG,CAACC,QAAQ,KAAKH,KAAK,GAAAI,aAAA,KAAQF,GAAG;QAAEG,KAAK,EAAEH,GAAG,CAACG,KAAK,GAAG;MAAC,KAAKH,GAAG;IAAA,EAChE;EACH;EAEA,IAAMI,IAAI,GAAGT,KAAK,CACfU,MAAM,CAAC,UAACR,GAAG,EAAES,GAAG,EAAK;IACpB,IAAMC,GAAG,GAAGD,GAAG,CAACE,SAAS;IACzB,IAAID,GAAG,KAAK,CAAC,EAAE,OAAOX,aAAa,CAACC,GAAG,EAAE,SAAS,CAAC;IACnD,IAAIU,GAAG,KAAK,CAAC,EAAE,OAAOX,aAAa,CAAC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"},"metadata":{},"sourceType":"module"}