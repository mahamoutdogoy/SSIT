{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/dogoy/ANAVATECH/project/aa/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _templateObject,\n  _jsxFileName = \"/Users/dogoy/ANAVATECH/project/aa/frontend/src/features/dashboard/SalesChart.jsx\";\nimport styled from \"styled-components\";\nimport DashboardBox from \"./DashboardBox\";\nimport Heading from \"../../ui/Heading\";\nimport { Area, AreaChart, CartesianGrid, ResponsiveContainer, Tooltip, XAxis, YAxis } from \"recharts\";\nimport { useDarkMode } from \"../../context/DarkModeContext\";\nimport { eachDayOfInterval, format, isSameDay, subDays } from \"date-fns\";\nvar StyledSalesChart = styled(DashboardBox)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  grid-column: 1 / -1;\\n\\n  /* Hack to change grid line colors */\\n  & .recharts-cartesian-grid-horizontal line,\\n  & .recharts-cartesian-grid-vertical line {\\n    stroke: var(--color-grey-300);\\n  }\\n\"])));\nfunction SalesChart(_ref) {\n  var bookings = _ref.bookings,\n    numDays = _ref.numDays;\n  var _useDarkMode = useDarkMode(),\n    isDarkMode = _useDarkMode.isDarkMode;\n  var allDates = eachDayOfInterval({\n    start: subDays(new Date(), numDays - 1),\n    end: new Date()\n  });\n  var data = allDates.map(function (date) {\n    return {\n      label: format(date, \"MMM dd\"),\n      totalSales: bookings.filter(function (booking) {\n        return isSameDay(date, new Date(booking.created_at));\n      }).reduce(function (acc, cur) {\n        return acc + cur.totalPrice;\n      }, 0),\n      extrasSales: bookings.filter(function (booking) {\n        return isSameDay(date, new Date(booking.created_at));\n      }).reduce(function (acc, cur) {\n        return acc + cur.extrasPrice;\n      }, 0)\n    };\n  });\n  var colors = isDarkMode ? {\n    totalSales: {\n      stroke: \"#4f46e5\",\n      fill: \"#4f46e5\"\n    },\n    extrasSales: {\n      stroke: \"#22c55e\",\n      fill: \"#22c55e\"\n    },\n    text: \"#e5e7eb\",\n    background: \"#18212f\"\n  } : {\n    totalSales: {\n      stroke: \"#4f46e5\",\n      fill: \"#c7d2fe\"\n    },\n    extrasSales: {\n      stroke: \"#16a34a\",\n      fill: \"#dcfce7\"\n    },\n    text: \"#374151\",\n    background: \"#fff\"\n  };\n  return /*#__PURE__*/React.createElement(StyledSalesChart, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Heading, {\n    as: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, \"Sales from \", format(allDates.at(0), \"MMM dd yyyy\"), \" \\u2014\", \" \", format(allDates.at(-1), \"MMM dd yyyy\"), \" \"), /*#__PURE__*/React.createElement(ResponsiveContainer, {\n    height: 300,\n    width: \"100%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AreaChart, {\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(XAxis, {\n    dataKey: \"label\",\n    tick: {\n      fill: colors.text\n    },\n    tickLine: {\n      stroke: colors.text\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(YAxis, {\n    unit: \"$\",\n    tick: {\n      fill: colors.text\n    },\n    tickLine: {\n      stroke: colors.text\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(CartesianGrid, {\n    strokeDasharray: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    contentStyle: {\n      backgroundColor: colors.background\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Area, {\n    dataKey: \"totalSales\",\n    type: \"monotone\",\n    stroke: colors.totalSales.stroke,\n    fill: colors.totalSales.fill,\n    strokeWidth: 2,\n    name: \"Total sales\",\n    unit: \"$\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Area, {\n    dataKey: \"extrasSales\",\n    type: \"monotone\",\n    stroke: colors.extrasSales.stroke,\n    fill: colors.extrasSales.fill,\n    strokeWidth: 2,\n    name: \"Extras sales\",\n    unit: \"$\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }))));\n}\nexport default SalesChart;","map":{"version":3,"names":["styled","DashboardBox","Heading","Area","AreaChart","CartesianGrid","ResponsiveContainer","Tooltip","XAxis","YAxis","useDarkMode","eachDayOfInterval","format","isSameDay","subDays","StyledSalesChart","_templateObject","_taggedTemplateLiteral","SalesChart","_ref","bookings","numDays","_useDarkMode","isDarkMode","allDates","start","Date","end","data","map","date","label","totalSales","filter","booking","created_at","reduce","acc","cur","totalPrice","extrasSales","extrasPrice","colors","stroke","fill","text","background","React","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","as","at","height","width","dataKey","tick","tickLine","unit","strokeDasharray","contentStyle","backgroundColor","type","strokeWidth","name"],"sources":["/Users/dogoy/ANAVATECH/project/aa/frontend/src/features/dashboard/SalesChart.jsx"],"sourcesContent":["import styled from \"styled-components\";\nimport DashboardBox from \"./DashboardBox\";\nimport Heading from \"../../ui/Heading\";\nimport {\n  Area,\n  AreaChart,\n  CartesianGrid,\n  ResponsiveContainer,\n  Tooltip,\n  XAxis,\n  YAxis,\n} from \"recharts\";\nimport { useDarkMode } from \"../../context/DarkModeContext\";\nimport { eachDayOfInterval, format, isSameDay, subDays } from \"date-fns\";\n\nconst StyledSalesChart = styled(DashboardBox)`\n  grid-column: 1 / -1;\n\n  /* Hack to change grid line colors */\n  & .recharts-cartesian-grid-horizontal line,\n  & .recharts-cartesian-grid-vertical line {\n    stroke: var(--color-grey-300);\n  }\n`;\n\nfunction SalesChart({ bookings, numDays }) {\n  const { isDarkMode } = useDarkMode();\n\n  const allDates = eachDayOfInterval({\n    start: subDays(new Date(), numDays - 1),\n    end: new Date(),\n  });\n\n  const data = allDates.map((date) => {\n    return {\n      label: format(date, \"MMM dd\"),\n      totalSales: bookings\n        .filter((booking) => isSameDay(date, new Date(booking.created_at)))\n        .reduce((acc, cur) => acc + cur.totalPrice, 0),\n      extrasSales: bookings\n        .filter((booking) => isSameDay(date, new Date(booking.created_at)))\n        .reduce((acc, cur) => acc + cur.extrasPrice, 0),\n    };\n  });\n\n  const colors = isDarkMode\n    ? {\n        totalSales: { stroke: \"#4f46e5\", fill: \"#4f46e5\" },\n        extrasSales: { stroke: \"#22c55e\", fill: \"#22c55e\" },\n        text: \"#e5e7eb\",\n        background: \"#18212f\",\n      }\n    : {\n        totalSales: { stroke: \"#4f46e5\", fill: \"#c7d2fe\" },\n        extrasSales: { stroke: \"#16a34a\", fill: \"#dcfce7\" },\n        text: \"#374151\",\n        background: \"#fff\",\n      };\n\n  return (\n    <StyledSalesChart>\n      <Heading as=\"h2\">\n        Sales from {format(allDates.at(0), \"MMM dd yyyy\")} &mdash;{\" \"}\n        {format(allDates.at(-1), \"MMM dd yyyy\")}{\" \"}\n      </Heading>\n\n      <ResponsiveContainer height={300} width=\"100%\">\n        <AreaChart data={data}>\n          <XAxis\n            dataKey=\"label\"\n            tick={{ fill: colors.text }}\n            tickLine={{ stroke: colors.text }}\n          />\n          <YAxis\n            unit=\"$\"\n            tick={{ fill: colors.text }}\n            tickLine={{ stroke: colors.text }}\n          />\n          <CartesianGrid strokeDasharray=\"4\" />\n          <Tooltip contentStyle={{ backgroundColor: colors.background }} />\n          <Area\n            dataKey=\"totalSales\"\n            type=\"monotone\"\n            stroke={colors.totalSales.stroke}\n            fill={colors.totalSales.fill}\n            strokeWidth={2}\n            name=\"Total sales\"\n            unit=\"$\"\n          />\n          <Area\n            dataKey=\"extrasSales\"\n            type=\"monotone\"\n            stroke={colors.extrasSales.stroke}\n            fill={colors.extrasSales.fill}\n            strokeWidth={2}\n            name=\"Extras sales\"\n            unit=\"$\"\n          />\n        </AreaChart>\n      </ResponsiveContainer>\n    </StyledSalesChart>\n  );\n}\n\nexport default SalesChart;"],"mappings":"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"},"metadata":{},"sourceType":"module"}